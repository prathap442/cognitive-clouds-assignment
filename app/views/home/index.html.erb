<h1>Home#index</h1>
<p>Find me in app/views/home/index.html.erb</p>
<p id="notice"><%= notice %></p>

<h1>Questions</h1>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Topic</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <%current_user_id = current_user.id%>
    <% @questions.each do |question| %>
      <tr>
        <td><%= question.name %></td>
        <td><%= question.topic_id %></td>
        <td><%= link_to 'Show', question %></td>
        <%if question.user_id == current_user_id%>
          <td><%= link_to 'Edit', edit_question_path(question)   %></td>
          <td><%= link_to 'Destroy', question, method: :delete, data: { confirm: 'Are you sure?' }%></td>
        <%else%>
          <td><button class="follow_user" datasource="<%={fellow_source_id: current_user_id}%>"> Follow "<%=question.user.name%>"</button></td>
          <td><button class="follow_topic" datasource="<%= {fellower_id: question.user_id}%>">Topic: <%="#{question.topic.name}"%> </button></td>
        <%end%>          
      </tr>
    <% end %>
  </tbody>
</table>
<br>

<%= link_to 'New Question', new_question_path(user_id: current_user.id) %>


<script>
  $(document).ready(()=>{
    console.log("the document is being ready");    
  })

  $('.follow_user').click((e)=>{
    debugger;
  })
</script>